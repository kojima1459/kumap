# Bear Map App - TODO

## データベース設計
- [x] クマ出没情報テーブル（bear_sightings）の作成
- [x] データソース区別（公式/ユーザー投稿）
- [x] 都道府県・市町村情報の管理

## バックエンドAPI
- [x] クマ出没情報取得API（地域フィルタリング対応）
- [x] ユーザー投稿API（認証必須）
- [x] 管理者承認API（オプション）

## スクレイピング機能
- [x] Yahoo!ニュースのクマ出没情報ページのスクレイピング
- [x] 各都道府県の公式サイトへのリンク抽出
- [ ] 定期実行機能（cron/scheduled task）

## Googleマップ統合
- [x] Googleマップコンポーネントの実装
- [x] マーカー表示（公式情報とユーザー投稿を区別）
- [x] 情報ウィンドウ（詳細表示）
- [x] 地域別フィルタリング

## ユーザー投稿機能
- [x] 投稿フォーム（位置情報、日時、詳細）
- [ ] 画像アップロード機能
- [ ] 投稿一覧表示
- [ ] 投稿編集・削除機能

## UI/UX
- [x] レスポンシブデザイン
- [x] ローディング状態の実装
- [x] エラーハンドリング
- [x] 地域選択UI

## テスト
- [x] バックエンドAPIのテスト
- [x] スクレイピング機能のテスト
- [ ] フロントエンドのテスト

## 定期実行機能（追加要望）
- [x] 毎日自動でYahoo!ニュースをスクレイピング
- [x] スケジュール設定（毎日特定時刻に実行）
- [x] 重複データの排除ロジック
- [x] スクレイピング結果のログ記録
- [x] 管理者用の手動実行ページ

## 日付フィルター機能（追加要望）
- [x] 日付範囲フィルター（過去1週間、1ヶ月、3ヶ月、全期間）
- [x] マーカーに日時情報を表示
- [x] 情報ウィンドウに詳細な日時表示
- [x] 投稿日時と目撃日時の区別

## 京都府詳細データ追加（追加要望）
- [ ] 京都府GISサイトからの詳細データスクレイピング
- [ ] 具体的な位置情報（緯度経度）の取得
- [ ] 既存スクレイピング機能への統合

## ハイブリッド方式の実装（追加要望）
- [x] Yahoo!ニュースから各都道府県の外部リンクを抽出
- [x] 都道府県別の外部リンクをデータベースに保存
- [x] マップ上で「詳細を見る」ボタンから外部リンクへ誘導
- [ ] 京都府GISデータの詳細スクレイピング（特別対応）
- [ ] 取得しやすい都道府県の追加対応（オプション）
